{% extends "index.html" %}
{% block head %}
    <h3>View Patients</h3>
    <div class="row">
      <h5 class="align-self-center col" >Total of {{data.rec|count}} patients</h5>
      <form class="form-inline">
        <input class="form-control mr-sm-2" type="search" name="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-primary my-2 my-sm-0" type="submit">Search</button>
        <select class="form-select col m-3" name="type" aria-label="Default select example">
          <option selected value="name" name="type">Search by Name</option>
          <option value="ssn" name="type">Search by ssn</option>
          <option value="age" name="type">Search by age</option>
        </select>
      </form>
      <div class="text-right p-4 col">
        <a href="http://127.0.0.1:5000/admin/patients/add" class="btn btn-primary align-self-center">Add Patient</a>
      </div> 
    </div>

    <table class="table">
      <thead>
        <tr>
          <th scope="col">#</th>
          {% for r in data.header %}
          <th>{{r}}</th>
          {% endfor %} 
        </tr>
      </thead>
      <tbody>
        {% for r in data.rec %}
        <tr>
           <th>{{loop.index}} </th>
           <td><a href="patients/{{r[0]}}"> {{r[0]}}</a></td>
           {% for l in r[1:] %}
             <td>{{l}}</td>
           {% endfor %}
           <td>
             <div class="text-right col">
               <a href="http://127.0.0.1:5000/" class="btn btn-primary align-self-center">Edit</a>
             </div>  
           </td>
           <td>
             <div class="text-right col">
               <a href="http://127.0.0.1:5000/patient/delete/{{r[0]}}" class="btn btn-primary align-self-center">Delete</a>
             </div>  
           </td>
        </tr>
        {% endfor %}
       </tbody>
    </table>


{% endblock %}